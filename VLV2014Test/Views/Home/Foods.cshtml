@using BinaryStarTechnology.CharityEventRevenueMgmtClasses
@using VLV2014Test.Models
@model FoodsView

@{
    ViewBag.Title = "Foods";
    MenuItems menuItems = VLV2014Test.Controllers.HomeController.menuItems;
}

		<div id="TMGPrototype2"><div class="ic"></div>
			<h1><a href="index.cshtml"><img src="../images/VivaLaVinoSmaller.jpg" alt="@Model.EventID.EventName"></a></h1>
			<ul class='sets'>
    @foreach (Table foodTable in Model.FoodsToShow)
    {
        <li data-setname="@foodTable.TableID">
            <ul>
                @if (foodTable == null || foodTable.Count <= 0)
                {
                    TabSectionView sec1 = new TabSectionView("../images/foodTable_station.jpg", "../images/red_wine.jpg", "List of foods is not yet available", "", "Please check back later.", "", "", "", "", "", "", "");
                    { Html.RenderPartial("ULsection", sec1); }
                }
                else
                {
                    foreach (RevenueItem food in foodTable)
                    {
                        string image = null;
                        if (food.PictureLink == null || food.PictureLink.Image == null)
                        { image = "../images/red_wine.jpg"; }
                        else
                        { image = food.PictureLink.Image; }
                        TabSectionView sec1 = new TabSectionView("../images/carving_station.jpg", food.PictureLink.Image, "", food.AssignedTable, "", food.Name, "Description: " + food.Description, "", "", "", "", "");

                        { Html.RenderPartial("ULsection", sec1); }
                    }
                }
            </ul>
        </li>
    }
			</ul>
		</div>

@section ScrolllingSponsors
{
    @{Html.RenderPartial("ScrollingSponsors", Model.AllSponsors);}
}

@section Variables
{
    <script>
        var AutoPlayInterval = 4000;
        var AutoPlay = true;
    </script>
}

@section TopTabs
{
    @{Html.RenderPartial("MenuLine", menuItems);}
}

@section Scripts
{
    <script>
        $(window).load(function () {
            $('#TMGPrototype2').TMGPrototype2({});
            if ($('#sponsors').length) {
                $('#sponsors').scrollbox(
                    {
                        direction: 'h',
                        distance: 50,
                        switchItems: 1
                        @(Model.AllSponsors.LogoCount() <= 1 ? ",autoPlay: false" : "")
                    }
                );
            }
        });
    </script>
}